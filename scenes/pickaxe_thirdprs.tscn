[gd_scene load_steps=13 format=3 uid="uid://bttxfa76rehik"]

[ext_resource type="ArrayMesh" uid="uid://dcrnxrl8mdd5y" path="res://assets/pickaxe/handle.res" id="2_iukwy"]
[ext_resource type="ArrayMesh" uid="uid://bf027yjbj6cc1" path="res://assets/pickaxe/pick.res" id="3_k7as0"]
[ext_resource type="Animation" uid="uid://coopggm2af6ae" path="res://assets/pickaxe/thirdprs_idle.res" id="4_ei0mj"]
[ext_resource type="Animation" uid="uid://lum1q6wmm6nu" path="res://assets/pickaxe/thirdprs_swing.res" id="5_7d2nq"]
[ext_resource type="AudioStream" uid="uid://di5b6djqje4m1" path="res://assets/pickaxe/Metal hit Sound Effect.mp3" id="6_t5j1l"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jgwan"]
_data = {
"idle": ExtResource("4_ei0mj"),
"swing": ExtResource("5_7d2nq")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_50u3v"]
animation = &"pick_animations/idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hyb02"]
animation = &"pick_animations/swing"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5aqx1"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ox5e6"]
advance_mode = 2
advance_condition = &"is_swinging"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_d3c6c"]
switch_mode = 2
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_qwjqa"]
states/Start/position = Vector2(185.6, 101.606)
states/pick_animations_idle/node = SubResource("AnimationNodeAnimation_50u3v")
states/pick_animations_idle/position = Vector2(395.2, 99.824)
states/pick_animations_swing/node = SubResource("AnimationNodeAnimation_hyb02")
states/pick_animations_swing/position = Vector2(587.2, 11.6)
transitions = ["Start", "pick_animations_idle", SubResource("AnimationNodeStateMachineTransition_5aqx1"), "pick_animations_idle", "pick_animations_swing", SubResource("AnimationNodeStateMachineTransition_ox5e6"), "pick_animations_swing", "pick_animations_idle", SubResource("AnimationNodeStateMachineTransition_d3c6c")]
graph_offset = Vector2(2, -79)

[node name="Pickaxe" type="Node3D"]

[node name="Handle" type="MeshInstance3D" parent="."]
transform = Transform3D(0.973572, 0, 0.228381, 0, 1, 0, -0.228382, 0, 0.973571, 0.550647, 0, -0.284205)
mesh = ExtResource("2_iukwy")

[node name="Pick" type="MeshInstance3D" parent="Handle"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.25, 0)
mesh = ExtResource("3_k7as0")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"pick_animations": SubResource("AnimationLibrary_jgwan")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
libraries = {
"pick_animations": SubResource("AnimationLibrary_jgwan")
}
tree_root = SubResource("AnimationNodeStateMachine_qwjqa")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/idle = true
parameters/conditions/is_swinging = false

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_t5j1l")
